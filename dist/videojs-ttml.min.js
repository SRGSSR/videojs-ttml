/*! videojs-ttml - v0.2.2 - 2017-03-28*/
!function(a,b,c){"use strict";function d(){this.domParser_=new DOMParser}d.prototype={parseTTMLCues_:function(a){for(var c=a.getElementsByTagName("span"),d=b.duration(a.getAttribute("begin")).asSeconds(),e=b.duration(a.getAttribute("end")).asSeconds(),f=a.getAttribute("xml:id"),g=[],h=0;h<c.length;h++){var i=c[h];g.push({startTime:d,endTime:e,id:f+"_"+h,text:i.textContent.trim(),color:i.getAttribute("tts:color"),backgroundColor:i.getAttribute("tts:backgroundColor")})}return g},parseTTML:function(a){for(var b=this.domParser_.parseFromString(a,"text/html"),c=b.getElementsByTagName("p"),d=[],e=0;e<c.length;e++)d=d.concat(this.parseTTMLCues_(c[e]));return d}},c.plugin("ttml",function(a){var b=this,e={addRemoteTextTrack:b.addRemoteTextTrack};this.addRemoteTextTrack=function(a,b){var f,g=new d,h=a.src,i=a.type&&"application/ttml+xml"===a.type;if(a.src=i?void 0:a.src,f=e.addRemoteTextTrack.apply(this,arguments),i&&f&&f.track){var j=f.track;j.loaded_=!1,c.xhr(h,{},function(a,b,d){if(a||b.statusCode>=300)this.removeRemoteTextTrack(j);else{var e=g.parseTTML(d);e.length>0?(j.loaded_=!0,e.forEach(function(a){f.track.addCue(a)})):(c.log.warn("Captions is empty or was not in TTML format: "+b.url),this.removeRemoteTextTrack(j))}}.bind(this))}return f}})}(window,window.moment,window.videojs);